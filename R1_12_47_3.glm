// $Id: R1_12_47_3.glm
// 12.47 kV feeder
//*********************************************

module editglm;
#set strictnames=FALSE
#set relax_naming_rules=1

clock {
	// timezone EST+5EDT;
     starttime '2000-01-01 9:00:00';
     stoptime '2000-01-01 10:00:00';
}


#set profiler=1
//*********************************************
// modules

// Add module generators for solar and inverter
module generators;

module residential;

module tape;
module powerflow{
	solver_method FBS;
	default_maximum_voltage_error 1e-9;
	line_limits FALSE;
};

module climate;
object climate {
    name "Spokane WA";
		tmyfile "WA-Spokane.tmy3";
		interpolate LINEAR;
}


//*********************************************
object regulator:222 {
     name R1-12-47-3_reg_1;
     from R1-12-47-3_node_53;
     to R1-12-47-3_meter_22;
     phases ABCN;
     configuration feeder_reg_cfg;
}

object regulator_configuration:223 {
     name feeder_reg_cfg;
     Control OUTPUT_VOLTAGE;
     band_center 7500.0;
     band_width 120;
     connect_type WYE_WYE;
     time_delay 30;
     raise_taps 16;
     lower_taps 16;
     regulation 0.10;
     tap_pos_A 0;
     tap_pos_B 0;
     tap_pos_C 0;
}

object fuse:208 {
     name R1-12-47-3_fuse_1;
     phases AN;
     from R1-12-47-3_node_19;
     to R1-12-47-3_node_20;
     mean_replacement_time 1000;
     current_limit 50000;// 10000;
     status CLOSED;
}

object fuse:209 {
     name R1-12-47-3_fuse_2;
     phases BCN;
     from R1-12-47-3_node_21;
     to R1-12-47-3_node_23;
     mean_replacement_time 1000;
     current_limit 50000;// 100000;
     status CLOSED;
}

object fuse:210 {
     name R1-12-47-3_fuse_3;
     phases AN;
     from R1-12-47-3_node_27;
     to R1-12-47-3_node_28;
     mean_replacement_time 1000;
     current_limit 50000;// 400000;
     status CLOSED;
}

object fuse:211 {
     name R1-12-47-3_fuse_4;
     phases AN;
     from R1-12-47-3_node_32;
     to R1-12-47-3_node_33;
     mean_replacement_time 1000;
     current_limit 50000;// 100000;
     status CLOSED;
}

object fuse:212 {
     name R1-12-47-3_fuse_5;
     phases ABCN;
     from R1-12-47-3_node_32;
     to R1-12-47-3_node_35;
     mean_replacement_time 1000;
     current_limit 50000;// 80000;
     status CLOSED;
}

object fuse:213 {
     name R1-12-47-3_fuse_6;
     phases BN;
     from R1-12-47-3_node_36;
     to R1-12-47-3_node_37;
     mean_replacement_time 1000;
     current_limit 50000;// 400000;
     status CLOSED;
}

object fuse:214 {
     name R1-12-47-3_fuse_7;
     phases BN;
     from R1-12-47-3_node_36;
     to R1-12-47-3_node_40;
     mean_replacement_time 1000;
     current_limit 50000;// 400000;
     status CLOSED;
}

object line_configuration:17 {
     conductor_A underground_line_conductor:2;
     conductor_B underground_line_conductor:2;
     conductor_C underground_line_conductor:2;
     conductor_N underground_line_conductor:2;
     spacing line_spacing:9;
}

object line_configuration:18 {
     conductor_A overhead_line_conductor:3;
     conductor_B overhead_line_conductor:3;
     conductor_C overhead_line_conductor:3;
     conductor_N overhead_line_conductor:3;
     spacing line_spacing:10;
}

object line_configuration:19 {
     conductor_A overhead_line_conductor:4;
     conductor_C overhead_line_conductor:4;
     conductor_N overhead_line_conductor:4;
     spacing line_spacing:11;
}

object line_configuration:20 {
     conductor_C overhead_line_conductor:5;
     conductor_N overhead_line_conductor:5;
     spacing line_spacing:12;
}

object line_configuration:21 {
     conductor_A overhead_line_conductor:4;
     conductor_B overhead_line_conductor:4;
     conductor_C overhead_line_conductor:4;
     conductor_N overhead_line_conductor:4;
     spacing line_spacing:10;
}

object line_configuration:22 {
     conductor_A overhead_line_conductor:5;
     conductor_C overhead_line_conductor:5;
     conductor_N overhead_line_conductor:5;
     spacing line_spacing:11;
}

object line_configuration:23 {
     conductor_C overhead_line_conductor:4;
     conductor_N overhead_line_conductor:4;
     spacing line_spacing:12;
}

object line_configuration:24 {
     conductor_A overhead_line_conductor:6;
     conductor_B overhead_line_conductor:6;
     conductor_C overhead_line_conductor:6;
     conductor_N overhead_line_conductor:6;
     spacing line_spacing:10;
}

object line_configuration:25 {
     conductor_A overhead_line_conductor:6;
     conductor_N overhead_line_conductor:6;
     spacing line_spacing:13;
}

object line_configuration:26 {
     conductor_A overhead_line_conductor:7;
     conductor_B overhead_line_conductor:7;
     conductor_C overhead_line_conductor:7;
     conductor_N overhead_line_conductor:7;
     spacing line_spacing:10;
}

object line_configuration:27 {
     conductor_A overhead_line_conductor:5;
     conductor_B overhead_line_conductor:5;
     conductor_C overhead_line_conductor:5;
     conductor_N overhead_line_conductor:5;
     spacing line_spacing:10;
}

object line_configuration:28 {
     conductor_B underground_line_conductor:8;
     conductor_C underground_line_conductor:8;
     conductor_N underground_line_conductor:8;
     spacing line_spacing:14;
}

object line_configuration:29 {
     conductor_B underground_line_conductor:8;
     conductor_N underground_line_conductor:8;
     spacing line_spacing:15;
}

object line_configuration:30 {
     conductor_B overhead_line_conductor:5;
     conductor_C overhead_line_conductor:5;
     conductor_N overhead_line_conductor:5;
     spacing line_spacing:16;
}

object line_configuration:31 {
     conductor_A overhead_line_conductor:4;
     conductor_N overhead_line_conductor:4;
     spacing line_spacing:13;
}

object line_configuration:32 {
     conductor_A overhead_line_conductor:5;
     conductor_N overhead_line_conductor:5;
     spacing line_spacing:13;
}

object line_configuration:33 {
     conductor_A underground_line_conductor:8;
     conductor_B underground_line_conductor:8;
     conductor_C underground_line_conductor:8;
     conductor_N underground_line_conductor:8;
     spacing line_spacing:9;
}


object line_spacing:9 {
     distance_AB 0.0 in;
     distance_BC 0.0 in;
     distance_AC 0.0 in;
     distance_AN 0.0 in;
     distance_BN 0.0 in;
     distance_CN 0.0 in;
}

object line_spacing:10 {
     distance_AB 57.6 in;
     distance_BC 57.6 in;
     distance_AC 57.6 in;
     distance_AN 84.0 in;
     distance_BN 84.0 in;
     distance_CN 84.0 in;
}

object line_spacing:11 {
     distance_AC 57.6 in;
     distance_AN 84.0 in;
     distance_CN 84.0 in;
}

object line_spacing:12 {
     distance_CN 84.0 in;
}

object line_spacing:13 {
     distance_AN 84.0 in;
}

object line_spacing:14 {
     distance_BC 0.0 in;
     distance_BN 0.0 in;
     distance_CN 0.0 in;
}

object line_spacing:15 {
     distance_BN 0.0 in;
}

object line_spacing:16 {
     distance_BC 57.6 in;
     distance_BN 84.0 in;
     distance_CN 84.0 in;
}


// Load 1
object load:86 {
     name R1-12-47-3_load_1;
     parent R1-12-47-3_meter_1;
     phases CN;
     voltage_C -3600+6235j;
     constant_power_C 54848.3315+1161.1672j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 1
// Solar connection 1

object overhead_line {
    name line_solar1;
		from R1-12-47-3_meter_1;
		to meter_solar1;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_solar1;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv1;
		phases CN;
		parent meter_solar1;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_1;
		phases CN;
		parent solar_inv1;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 1

object overhead_line {
    name line_batt1;
		from R1-12-47-3_meter_1;
		to meter_batt1;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_batt1;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv1;
		phases CN;
		parent meter_batt1;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_1;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_1;
		parent batt_inv1;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 1

object transformer_configuration {
	name CS_config;
	connect_type SINGLE_PHASE_CENTER_TAPPED;
	install_type POLETOP;
	powerC_rating 30;
	primary_voltage 480;
	secondary_voltage 120.000;
	impedance 0.006+0.0136j;
}

object transformer {
	name center_tap_1;
	phases CS;
	from R1-12-47-3_load_1;
	to trip_meter_ev1;
	configuration CS_config;
}

object triplex_meter {
    name trip_meter_ev1;
		phases CS;
		nominal_voltage 480;
}

object house {
      name house_1;
      parent trip_meter_ev1;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 2
object load:87 {
     name R1-12-47-3_load_2;
     parent R1-12-47-3_meter_2;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     constant_power_A 18397.9491+344.1439j;
     constant_power_B 5945.0578+187.089j;
     constant_power_C 16454.4994+348.3502j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 2
// Solar connection 2

object overhead_line {
    name line_solar2;
		from R1-12-47-3_meter_2;
		to meter_solar2;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar2;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv2;
		phases ABCN;
		parent meter_solar2;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 15000;
}

object solar {
    name solar_2;
		phases ABCN;
		parent solar_inv2;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 2

object overhead_line {
    name line_batt2;
		from R1-12-47-3_meter_2;
		to meter_batt2;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt2;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv2;
		phases ABCN;
		parent meter_batt2;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_2;
		inverter_efficiency .95;
		rated_power 15000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_2;
		parent batt_inv2;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 15000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 2

object transformer {
	name center_tap_2;
	phases CS;
	from R1-12-47-3_load_2;
	to trip_meter_ev2;
	configuration CS_config;
}

object triplex_meter {
    name trip_meter_ev2;
		phases CS;
		nominal_voltage 480;
}

object house {
      name house_2;
      parent trip_meter_ev2;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 3
object load:88 {
     name R1-12-47-3_load_3;
     parent R1-12-47-3_meter_3;
     phases ACN;
     voltage_A 7200+0.0j;
     voltage_C -3600+6235j;
     constant_power_A 0+0j;
     constant_power_C 27424.1657+580.5836j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 3
// Solar connection 3

object overhead_line {
    name line_solar3;
		from R1-12-47-3_meter_3;
		to meter_solar3;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_solar3;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv3;
		phases CN;
		parent meter_solar3;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 20000;
}

object solar {
    name solar_3;
		phases CN;
		parent solar_inv3;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 3

object overhead_line {
    name line_batt3;
		from R1-12-47-3_meter_3;
		to meter_batt3;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_batt3;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv3;
		phases CN;
		parent meter_batt3;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_3;
		inverter_efficiency .95;
		rated_power 20000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_3;
		parent batt_inv3;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 20000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 3

object transformer {
	name center_tap_3;
	phases CS;
	from R1-12-47-3_load_3;
	to trip_meter_ev3;
	configuration CS_config;
}

object triplex_meter {
    name trip_meter_ev3;
		phases CS;
		nominal_voltage 480;
}

object house {
      name house_3;
      parent trip_meter_ev3;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 4
object load:89 {
     name R1-12-47-3_load_4;
     parent R1-12-47-3_meter_4;
     phases CN;
     voltage_C -3600+6235j;
     constant_power_C 54848.3315+1161.1672j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 4
// Solar connection 4

object overhead_line {
    name line_solar4;
		from R1-12-47-3_meter_4;
		to meter_solar4;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_solar4;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv4;
		phases CN;
		parent meter_solar4;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 50000;
}

object solar {
    name solar_4;
		phases CN;
		parent solar_inv4;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 4

object overhead_line {
    name line_batt4;
		from R1-12-47-3_meter_4;
		to meter_batt4;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_batt4;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv4;
		phases CN;
		parent meter_batt4;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_4;
		inverter_efficiency .95;
		rated_power 50000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_4;
		parent batt_inv4;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 50000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 4

object transformer {
	name center_tap_4;
	phases CS;
	from R1-12-47-3_load_4;
	to trip_meter_ev4;
	configuration CS_config;
}

object triplex_meter {
    name trip_meter_ev4;
		phases CS;
		nominal_voltage 480;
}

object house {
      name house_4;
      parent trip_meter_ev4;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 5
object load:90 {
     name R1-12-47-3_load_5;
     parent R1-12-47-3_meter_5;
     phases CN;
     voltage_C -3600+6235j;
     constant_power_C 54848.3315+1161.1672j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 5
// Solar connection 5

object overhead_line {
    name line_solar5;
		from R1-12-47-3_meter_5;
		to meter_solar5;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_solar5;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv5;
		phases CN;
		parent meter_solar5;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 50000;
}

object solar {
    name solar_5;
		phases CN;
		parent solar_inv5;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 5

object overhead_line {
    name line_batt5;
		from R1-12-47-3_meter_5;
		to meter_batt5;
		phases CN;
		length 10;
		configuration line_configuration:20;
}

object meter {
    name meter_batt5;
		phases CN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv5;
		phases CN;
		parent meter_batt5;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_5;
		inverter_efficiency .95;
		rated_power 50000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_5;
		parent batt_inv5;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 50000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 5

object transformer {
	name center_tap_5;
	phases CS;
	from R1-12-47-3_load_5;
	to trip_meter_ev5;
	configuration CS_config;
}

object triplex_meter {
    name trip_meter_ev5;
		phases CS;
		nominal_voltage 480;
}

object house {
      name house_5;
      parent trip_meter_ev5;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 6
object load:91 {
     name R1-12-47-3_load_6;
     parent R1-12-47-3_meter_6;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     constant_power_A 0+0j;
     constant_power_B 0+0j;
     constant_power_C 82272.4972+1741.7508j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 6
// Solar connection 6

object overhead_line {
    name line_solar6;
		from R1-12-47-3_meter_6;
		to meter_solar6;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar6;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv6;
		phases ABCN;
		parent meter_solar6;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 80000;
}

object solar {
    name solar_6;
		phases ABCN;
		parent solar_inv6;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 6

object overhead_line {
    name line_batt6;
		from R1-12-47-3_meter_6;
		to meter_batt6;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt6;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv6;
		phases ABCN;
		parent meter_batt6;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_6;
		inverter_efficiency .95;
		rated_power 80000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_6;
		parent batt_inv6;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 80000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 6

object transformer {
	name center_tap_6;
	phases CS;
	from R1-12-47-3_load_6;
	to trip_meter_ev6;
	configuration CS_config;
}

object triplex_meter {
    name trip_meter_ev6;
		phases CS;
		nominal_voltage 480;
}

object house {
      name house_6;
      parent trip_meter_ev6;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 7
object load:92 {
     name R1-12-47-3_load_7;
     parent R1-12-47-3_meter_7;
     phases AN;
     voltage_A 7200+0.0j;
     constant_power_A 42928.5478+803.0025j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 7
// Solar connection 7

object overhead_line {
    name line_solar7;
		from R1-12-47-3_meter_7;
		to meter_solar7;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_solar7;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv7;
		phases AN;
		parent meter_solar7;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 40000;
}

object solar {
    name solar_7;
		phases AN;
		parent solar_inv7;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 7

object overhead_line {
    name line_batt7;
		from R1-12-47-3_meter_7;
		to meter_batt7;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_batt7;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv7;
		phases AN;
		parent meter_batt7;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_7;
		inverter_efficiency .95;
		rated_power 40000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_7;
		parent batt_inv7;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 40000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 7

object transformer_configuration {
	name AS_config;
	connect_type SINGLE_PHASE_CENTER_TAPPED;
	install_type POLETOP;
	powerA_rating 30;
	primary_voltage 480;
	secondary_voltage 120.000;
	impedance 0.006+0.0136j;
}

object transformer {
	name center_tap_7;
	phases AS;
	from R1-12-47-3_load_7;
	to trip_meter_ev7;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev7;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_7;
      parent trip_meter_ev7;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 8
object load:93 {
     name R1-12-47-3_load_8;
     parent R1-12-47-3_meter_8;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     constant_power_A 30663.2485+573.5732j;
     constant_power_B 9908.4297+311.8149j;
     constant_power_C 27424.1657+580.5836j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 8
// Solar connection 8

object overhead_line {
    name line_solar8;
		from R1-12-47-3_meter_8;
		to meter_solar8;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar8;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv8;
		phases ABCN;
		parent meter_solar8;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_8;
		phases ABCN;
		parent solar_inv8;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 8

object overhead_line {
    name line_batt8;
		from R1-12-47-3_meter_8;
		to meter_batt8;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt8;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv8;
		phases ABCN;
		parent meter_batt8;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_8;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_8;
		parent batt_inv8;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 8

object transformer {
	name center_tap_8;
	phases AS;
	from R1-12-47-3_load_8;
	to trip_meter_ev8;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev8;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_8;
      parent trip_meter_ev8;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 9
object load:94 {
     name R1-12-47-3_load_9;
     parent R1-12-47-3_meter_9;
     phases BN;
     voltage_B -3600-6235j;
     constant_power_B 29725.289+935.4448j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 9
// Solar connection 9

object underground_line {
    name line_solar9;
		from R1-12-47-3_meter_9;
		to meter_solar9;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_solar9;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv9;
		phases BN;
		parent meter_solar9;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 40000;
}

object solar {
    name solar_9;
		phases BN;
		parent solar_inv9;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 9

object underground_line {
    name line_batt9;
		from R1-12-47-3_meter_9;
		to meter_batt9;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_batt9;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv9;
		phases BN;
		parent meter_batt9;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_9;
		inverter_efficiency .95;
		rated_power 40000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_9;
		parent batt_inv9;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 40000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 9

object transformer_configuration {
	name BS_config;
	connect_type SINGLE_PHASE_CENTER_TAPPED;
	install_type POLETOP;
	powerB_rating 30;
	primary_voltage 480;
	secondary_voltage 120.000;
	impedance 0.006+0.0136j;
}

object transformer {
	name center_tap_9;
	phases BS;
	from R1-12-47-3_load_9;
	to trip_meter_ev9;
	configuration BS_config;
}

object triplex_meter {
    name trip_meter_ev9;
		phases BS;
		nominal_voltage 480;
}

object house {
      name house_9;
      parent trip_meter_ev9;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 10
object load:95 {
     name R1-12-47-3_load_10;
     parent R1-12-47-3_meter_10;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     constant_power_A 0+0j;
     constant_power_B 9908.4297+311.8149j;
     constant_power_C 54848.3315+1161.1672j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 10
// Solar connection 10

object overhead_line {
    name line_solar10;
		from R1-12-47-3_meter_10;
		to meter_solar10;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar10;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv10;
		phases ABCN;
		parent meter_solar10;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_10;
		phases ABCN;
		parent solar_inv10;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 10

object overhead_line {
    name line_batt10;
		from R1-12-47-3_meter_10;
		to meter_batt10;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt10;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv10;
		phases ABCN;
		parent meter_batt10;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_10;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_10;
		parent batt_inv10;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 10

object transformer {
	name center_tap_10;
	phases BS;
	from R1-12-47-3_load_10;
	to trip_meter_ev10;
	configuration BS_config;
}

object triplex_meter {
    name trip_meter_ev10;
		phases BS;
		nominal_voltage 480;
}

object house {
      name house_10;
      parent trip_meter_ev10;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 11
object load:96 {
     name R1-12-47-3_load_11;
     parent R1-12-47-3_meter_11;
     phases AN;
     voltage_A 7200+0.0j;
     constant_power_A 110387.6944+2064.8636j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 11
// Solar connection 11

object overhead_line {
    name line_solar11;
		from R1-12-47-3_meter_11;
		to meter_solar11;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_solar11;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv11;
		phases AN;
		parent meter_solar11;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 90000;
}

object solar {
    name solar_11;
		phases AN;
		parent solar_inv11;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 11

object overhead_line {
    name line_batt11;
		from R1-12-47-3_meter_11;
		to meter_batt11;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_batt11;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv11;
		phases AN;
		parent meter_batt11;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_11;
		inverter_efficiency .95;
		rated_power 90000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_11;
		parent batt_inv11;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 90000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 11

object transformer {
	name center_tap_11;
	phases AS;
	from R1-12-47-3_load_11;
	to trip_meter_ev11;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev11;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_11;
      parent trip_meter_ev11;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 12
object load:97 {
     name R1-12-47-3_load_12;
     parent R1-12-47-3_meter_12;
     phases AN;
     voltage_A 7200+0.0j;
     constant_power_A 30663.2485+573.5732j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 12
// Solar connection 12

object overhead_line {
    name line_solar12;
		from R1-12-47-3_meter_12;
		to meter_solar12;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_solar12;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv12;
		phases AN;
		parent meter_solar12;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_12;
		phases AN;
		parent solar_inv12;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 12

object overhead_line {
    name line_batt12;
		from R1-12-47-3_meter_12;
		to meter_batt12;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_batt12;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv12;
		phases AN;
		parent meter_batt12;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_12;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_12;
		parent batt_inv12;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 12

object transformer {
	name center_tap_12;
	phases AS;
	from R1-12-47-3_load_12;
	to trip_meter_ev12;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev12;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_12;
      parent trip_meter_ev12;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 13
object load:98 {
     name R1-12-47-3_load_13;
     parent R1-12-47-3_meter_13;
     phases AN;
     voltage_A 7200+0.0j;
     constant_power_A 30663.2485+573.5732j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 13
// Solar connection 13

object overhead_line {
    name line_solar13;
		from R1-12-47-3_meter_13;
		to meter_solar13;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_solar13;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv13;
		phases AN;
		parent meter_solar13;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_13;
		phases AN;
		parent solar_inv13;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 13

object overhead_line {
    name line_batt13;
		from R1-12-47-3_meter_13;
		to meter_batt13;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_batt13;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv13;
		phases AN;
		parent meter_batt13;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_13;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_13;
		parent batt_inv13;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 13

object transformer {
	name center_tap_13;
	phases AS;
	from R1-12-47-3_load_13;
	to trip_meter_ev13;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev13;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_13;
      parent trip_meter_ev13;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 14
object load:99 {
     name R1-12-47-3_load_14;
     parent R1-12-47-3_meter_14;
     phases AN;
     voltage_A 7200+0.0j;
     constant_power_A 30663.2485+573.5732j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 14
// Solar connection 14

object overhead_line {
    name line_solar14;
		from R1-12-47-3_meter_14;
		to meter_solar14;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_solar14;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv14;
		phases AN;
		parent meter_solar14;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_14;
		phases AN;
		parent solar_inv14;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 14

object overhead_line {
    name line_batt14;
		from R1-12-47-3_meter_14;
		to meter_batt14;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_batt14;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv14;
		phases AN;
		parent meter_batt14;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_14;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_14;
		parent batt_inv14;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 14

object transformer {
	name center_tap_14;
	phases AS;
	from R1-12-47-3_load_14;
	to trip_meter_ev14;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev14;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_14;
      parent trip_meter_ev14;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 15
object load:100 {
     name R1-12-47-3_load_15;
     parent R1-12-47-3_meter_15;
     phases BN;
     voltage_B -3600-6235j;
     constant_power_B 19800+600j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 15
// Solar connection 15

object underground_line {
    name line_solar15;
		from R1-12-47-3_meter_15;
		to meter_solar15;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_solar15;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv15;
		phases BN;
		parent meter_solar15;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 20000;
}

object solar {
    name solar_15;
		phases BN;
		parent solar_inv15;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 15

object underground_line {
    name line_batt15;
		from R1-12-47-3_meter_15;
		to meter_batt15;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_batt15;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv15;
		phases BN;
		parent meter_batt15;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_15;
		inverter_efficiency .95;
		rated_power 20000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_15;
		parent batt_inv15;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 20000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 15

object transformer {
	name center_tap_15;
	phases BS;
	from R1-12-47-3_load_15;
	to trip_meter_ev15;
	configuration BS_config;
}

object triplex_meter {
    name trip_meter_ev15;
		phases BS;
		nominal_voltage 480;
}

object house {
      name house_15;
      parent trip_meter_ev15;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 16
object load:101 {
     name R1-12-47-3_load_16;
     parent R1-12-47-3_meter_16;
     phases BN;
     voltage_B -3600-6235j;
     constant_power_B 66200+2100j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 16
// Solar connection 16

object underground_line {
    name line_solar16;
		from R1-12-47-3_meter_16;
		to meter_solar16;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_solar16;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv16;
		phases BN;
		parent meter_solar16;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 60000;
}

object solar {
    name solar_16;
		phases BN;
		parent solar_inv16;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 16

object underground_line {
    name line_batt16;
		from R1-12-47-3_meter_16;
		to meter_batt16;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_batt16;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv16;
		phases BN;
		parent meter_batt16;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_16;
		inverter_efficiency .95;
		rated_power 60000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_16;
		parent batt_inv16;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 60000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 16

object transformer {
	name center_tap_16;
	phases BS;
	from R1-12-47-3_load_16;
	to trip_meter_ev16;
	configuration BS_config;
}

object triplex_meter {
    name trip_meter_ev16;
		phases BS;
		nominal_voltage 480;
}

object house {
      name house_16;
      parent trip_meter_ev16;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 17
object load:102 {
     name R1-12-47-3_load_17;
     parent R1-12-47-3_meter_17;
     phases BN;
     voltage_B -3600-6235j;
     constant_power_B 19800+600j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 17
// Solar connection 17

object underground_line {
    name line_solar17;
		from R1-12-47-3_meter_17;
		to meter_solar17;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_solar17;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv17;
		phases BN;
		parent meter_solar17;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 20000;
}

object solar {
    name solar_17;
		phases BN;
		parent solar_inv17;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 17

object underground_line {
    name line_batt17;
		from R1-12-47-3_meter_17;
		to meter_batt17;
		phases BN;
		length 10;
		configuration line_configuration:29;
}

object meter {
    name meter_batt17;
		phases BN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv17;
		phases BN;
		parent meter_batt17;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_17;
		inverter_efficiency .95;
		rated_power 20000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_17;
		parent batt_inv17;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 20000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 17

object transformer {
	name center_tap_17;
	phases BS;
	from R1-12-47-3_load_17;
	to trip_meter_ev17;
	configuration BS_config;
}

object triplex_meter {
    name trip_meter_ev17;
		phases BS;
		nominal_voltage 480;
}

object house {
      name house_17;
      parent trip_meter_ev17;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 18
object load:103 {
     name R1-12-47-3_load_18;
     parent R1-12-47-3_meter_18;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     constant_power_A 61326.4969+1147.1465j;
     constant_power_B 19816.8593+623.6299j;
     constant_power_C 54848.3315+1161.1672j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 18
// Solar connection 18

object overhead_line {
    name line_solar18;
		from R1-12-47-3_meter_18;
		to meter_solar18;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar18;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv18;
		phases ABCN;
		parent meter_solar18;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 40000;
}

object solar {
    name solar_18;
		phases ABCN;
		parent solar_inv18;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 18

object overhead_line {
    name line_batt18;
		from R1-12-47-3_meter_18;
		to meter_batt18;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt18;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv18;
		phases ABCN;
		parent meter_batt18;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_18;
		inverter_efficiency .95;
		rated_power 40000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_18;
		parent batt_inv18;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 40000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 18

object transformer {
	name center_tap_18;
	phases BS;
	from R1-12-47-3_load_18;
	to trip_meter_ev18;
	configuration BS_config;
}

object triplex_meter {
    name trip_meter_ev18;
		phases BS;
		nominal_voltage 480;
}

object house {
      name house_18;
      parent trip_meter_ev18;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 19
object load:104 {
     name R1-12-47-3_load_19;
     parent R1-12-47-3_meter_19;
     phases AN;
     voltage_A 7200+0.0j;
     constant_power_A 30663.2485+573.5732j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 19
// Solar connection 19

object overhead_line {
    name line_solar19;
		from R1-12-47-3_meter_19;
		to meter_solar19;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_solar19;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv19;
		phases AN;
		parent meter_solar19;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_19;
		phases AN;
		parent solar_inv19;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 19

object overhead_line {
    name line_batt19;
		from R1-12-47-3_meter_19;
		to meter_batt19;
		phases AN;
		length 10;
		configuration line_configuration:25;
}

object meter {
    name meter_batt19;
		phases AN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv19;
		phases AN;
		parent meter_batt19;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_19;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_19;
		parent batt_inv19;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 19

object transformer {
	name center_tap_19;
	phases AS;
	from R1-12-47-3_load_19;
	to trip_meter_ev19;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev19;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_19;
      parent trip_meter_ev19;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 20
object load:105 {
     name R1-12-47-3_load_20;
     parent R1-12-47-3_meter_20;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     constant_power_A 45994.8727+860.3598j;
     constant_power_B 14862.6445+467.7224j;
     constant_power_C 41136.2486+870.8754j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 20
// Solar connection 20

object overhead_line {
    name line_solar20;
		from R1-12-47-3_meter_20;
		to meter_solar20;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar20;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv20;
		phases ABCN;
		parent meter_solar20;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 40000;
}

object solar {
    name solar_20;
		phases ABCN;
		parent solar_inv20;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 20

object overhead_line {
    name line_batt20;
		from R1-12-47-3_meter_20;
		to meter_batt20;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt20;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv20;
		phases ABCN;
		parent meter_batt20;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_20;
		inverter_efficiency .95;
		rated_power 40000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_20;
		parent batt_inv20;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 40000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 20

object transformer {
	name center_tap_20;
	phases AS;
	from R1-12-47-3_load_20;
	to trip_meter_ev20;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev20;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_20;
      parent trip_meter_ev20;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Load 21
object load:106 {
     name R1-12-47-3_load_21;
     parent R1-12-47-3_meter_21;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     constant_power_A 30663.2485+573.5732j;
     constant_power_B 9908.4297+311.8149j;
     constant_power_C 27424.1657+580.5836j;
     nominal_voltage 480;
     load_class C;
}

// Distributed generation connection of load 21
// Solar connection 21

object overhead_line {
    name line_solar21;
		from R1-12-47-3_meter_21;
		to meter_solar21;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar21;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name solar_inv21;
		phases ABCN;
		parent meter_solar21;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 30000;
}

object solar {
    name solar_21;
		phases ABCN;
		parent solar_inv21;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}


// Battery connection 21

object overhead_line {
    name line_batt21;
		from R1-12-47-3_meter_21;
		to meter_batt21;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt21;
		phases ABCN;
		nominal_voltage 480;
}

object inverter {
    name batt_inv21;
		phases ABCN;
		parent meter_batt21;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_21;
		inverter_efficiency .95;
		rated_power 30000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_21;
		parent batt_inv21;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 30000;
		nominal_voltage 480;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}


// EV charger connection 21

object transformer {
	name center_tap_21;
	phases AS;
	from R1-12-47-3_load_21;
	to trip_meter_ev21;
	configuration AS_config;
}

object triplex_meter {
    name trip_meter_ev21;
		phases AS;
		nominal_voltage 480;
}

object house {
      name house_21;
      parent trip_meter_ev21;
//  	floor_area 0;
//		heating_setpoint 0;
//		cooling_setpoint 0;
//		thermostat_deadband 0;
//		object ZIPload {
//			base_power 0;
//			power_fraction 0.2;
//			impedance_fraction 0.3;
//			current_fraction 0.5;
//			power_pf 0.9;
//			current_pf 0.6;
//			impedance_pf 0.8;
//		};
//		object waterheater {
//			location INSIDE;
//			water_demand 0;
//		};
		object evcharger {
	      charger_type HIGH;
		};
}


// Meters

// Metrics collectors for each meter (ANSI C84.1 voltage standard)

object meter:110 {
     name R1-12-47-3_meter_1;
     phases CN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:111 {
     name R1-12-47-3_meter_2;
     phases ABCN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:112 {
     name R1-12-47-3_meter_3;
     phases ACN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:113 {
     name R1-12-47-3_meter_4;
     phases CN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:114 {
     name R1-12-47-3_meter_5;
     phases CN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:115 {
     name R1-12-47-3_meter_6;
     phases ABCN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:116 {
     name R1-12-47-3_meter_7;
     phases AN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:117 {
     name R1-12-47-3_meter_8;
     phases ABCN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:118 {
     name R1-12-47-3_meter_9;
     phases BN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:119 {
     name R1-12-47-3_meter_10;
     phases ABCN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:120 {
     name R1-12-47-3_meter_11;
     phases AN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:121 {
     name R1-12-47-3_meter_12;
     phases AN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:122 {
     name R1-12-47-3_meter_13;
     phases AN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:123 {
     name R1-12-47-3_meter_14;
     phases AN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:124 {
     name R1-12-47-3_meter_15;
     phases BN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:125 {
     name R1-12-47-3_meter_16;
     phases BN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:126 {
     name R1-12-47-3_meter_17;
     phases BN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:127 {
     name R1-12-47-3_meter_18;
     phases ABCN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:128 {
     name R1-12-47-3_meter_19;
     phases AN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:129 {
     name R1-12-47-3_meter_20;
     phases ABCN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

object meter:130 {
     name R1-12-47-3_meter_21;
     phases ABCN;
     nominal_voltage 480;
		 object metrics_collector {
		     interval 60;
		 };
}

// Meter at feeder
object meter:221 {
     name R1-12-47-3_meter_22;
     phases ABCN;
     nominal_voltage 7200;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
}

object node:34 {
     name R1-12-47-3_node_1;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:35 {
     name R1-12-47-3_node_2;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:36 {
     name R1-12-47-3_node_3;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:37 {
     name R1-12-47-3_node_4;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:38 {
     name R1-12-47-3_node_5;
     phases ACN;
     voltage_A 7200+0.0j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:39 {
     name R1-12-47-3_node_6;
     phases CN;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:40 {
     name R1-12-47-3_node_7;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:41 {
     name R1-12-47-3_node_8;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:42 {
     name R1-12-47-3_node_9;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:43 {
     name R1-12-47-3_node_10;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:44 {
     name R1-12-47-3_node_11;
     phases ACN;
     voltage_A 7200+0.0j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:45 {
     name R1-12-47-3_node_12;
     phases CN;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:46 {
     name R1-12-47-3_node_13;
     phases ACN;
     voltage_A 7200+0.0j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:47 {
     name R1-12-47-3_node_14;
     phases CN;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:48 {
     name R1-12-47-3_node_15;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:49 {
     name R1-12-47-3_node_16;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:50 {
     name R1-12-47-3_node_17;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:51 {
     name R1-12-47-3_node_18;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:52 {
     name R1-12-47-3_node_19;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:53 {
     name R1-12-47-3_node_20;
     phases AN;
     voltage_A 7200+0.0j;
     nominal_voltage 7200;
}

object node:54 {
     name R1-12-47-3_node_21;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:55 {
     name R1-12-47-3_node_22;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:56 {
     name R1-12-47-3_node_23;
     phases BCN;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:57 {
     name R1-12-47-3_node_24;
     phases BN;
     voltage_B -3600-6235j;
     nominal_voltage 7200;
}

object node:58 {
     name R1-12-47-3_node_25;
     phases BCN;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:59 {
     name R1-12-47-3_node_26;
     phases BCN;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:60 {
     name R1-12-47-3_node_27;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:61 {
     name R1-12-47-3_node_28;
     phases AN;
     voltage_A 7200+0.0j;
     nominal_voltage 7200;
}

object node:62 {
     name R1-12-47-3_node_29;
     phases AN;
     voltage_A 7200+0.0j;
     nominal_voltage 7200;
}

object node:63 {
     name R1-12-47-3_node_30;
     phases AN;
     voltage_A 7200+0.0j;
     nominal_voltage 7200;
}

object node:64 {
     name R1-12-47-3_node_31;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:65 {
     name R1-12-47-3_node_32;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:66 {
     name R1-12-47-3_node_33;
     phases AN;
     voltage_A 7200+0.0j;
     nominal_voltage 7200;
}

object node:67 {
     name R1-12-47-3_node_34;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:68 {
     name R1-12-47-3_node_35;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:69 {
     name R1-12-47-3_node_36;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:70 {
     name R1-12-47-3_node_37;
     phases BN;
     voltage_B -3600-6235j;
     nominal_voltage 7200;
}

object node:71 {
     name R1-12-47-3_node_38;
     phases BN;
     voltage_B -3600-6235j;
     nominal_voltage 7200;
}

object node:72 {
     name R1-12-47-3_node_39;
     phases BN;
     voltage_B -3600-6235j;
     nominal_voltage 7200;
}

object node:73 {
     name R1-12-47-3_node_40;
     phases BN;
     voltage_B -3600-6235j;
     nominal_voltage 7200;
}

object node:74 {
     name R1-12-47-3_node_41;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:75 {
     name R1-12-47-3_node_42;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:76 {
     name R1-12-47-3_node_43;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:77 {
     name R1-12-47-3_node_44;
     phases AN;
     voltage_A 7200+0.0j;
     nominal_voltage 7200;
}

object node:78 {
     name R1-12-47-3_node_45;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:79 {
     name R1-12-47-3_node_46;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:80 {
     name R1-12-47-3_node_47;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:81 {
     name R1-12-47-3_node_48;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:82 {
     name R1-12-47-3_node_49;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:83 {
     name R1-12-47-3_node_50;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}

object node:84 {
     name R1-12-47-3_node_51;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}


// The parent of this node is the meter at feeder
object node:85 {
     name R1-12-47-3_node_52;
     parent R1-12-47-3_meter_22;
     phases ABCN;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
     nominal_voltage 7200;
}


// Solar installation at the feeder

object overhead_line {
    name line_solar_feeder;
		from R1-12-47-3_meter_22;
		to meter_solar_feeder;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_solar_feeder;
		phases ABCN;
		nominal_voltage 7200;
}

object inverter {
    name solar_inv_feeder;
		phases ABCN;
		parent meter_solar_feeder;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
	  generator_mode SUPPLY_DRIVEN;
		inverter_efficiency .95;
		rated_power 500000;
}

object solar {
    name solar_feeder;
		phases ABCN;
		parent solar_inv_feeder;
		generator_status ONLINE;
		generator_mode SUPPLY_DRIVEN;
		panel_type SINGLE_CRYSTAL_SILICON;
		area 250 ft^2;
		tilt_angle 47.0;
		efficiency 0.135;
		orientation_azimuth 180;  // equator-facing (South)
		orientation FIXED_AXIS;
		SOLAR_TILT_MODEL SOLPOS;
		SOLAR_POWER_MODEL FLATPLATE;
}
// End of solar installation at feeder


// Battery installation at feeder

object overhead_line {
    name line_batt_feeder;
		from R1-12-47-3_meter_22;
		to meter_batt_feeder;
		phases ABCN;
		length 10;
		configuration line_configuration:18;
}

object meter {
    name meter_batt_feeder;
		phases ABCN;
		nominal_voltage 7200;
}

object inverter {
    name batt_inv_feeder;
		phases ABCN;
		parent meter_batt_feeder;
		generator_status ONLINE;
	  inverter_type FOUR_QUADRANT;
		four_quadrant_control_mode CONSTANT_PF;
		sense_object R1-12-47-3_meter_22;
		inverter_efficiency .95;
		rated_power 500000;
		charge_on_threshold 1.5 kW;
		charge_off_threshold 1.7 kW;
		discharge_off_threshold 2 kW;
		discharge_on_threshold 3 kW;
		max_discharge_rate 3 kW;
		max_charge_rate 3 kW;
		charge_lockout_time 1;
		discharge_lockout_time 1;
}

object battery {
    name batt_feeder;
		parent batt_inv_feeder;
		use_internal_battery_model TRUE;
		battery_type LI_ION;
		rated_power 500000;
		nominal_voltage 7200;
		battery_capacity 20 kWh;
		round_trip_efficiency 0.81;
		state_of_charge 0.5;
		generator_mode SUPPLY_DRIVEN;
}
// End of battery installation at feeder



object node:224 {
     name R1-12-47-3_node_53;
     bustype SWING;
     phases ABCN;
     nominal_voltage 7200;
     voltage_A 7200+0.0j;
     voltage_B -3600-6235j;
     voltage_C -3600+6235j;
}

object overhead_line:171 {
     name R1-12-47-3_ol_1;
     phases ABCN;
     from R1-12-47-3_node_3;
     to R1-12-47-3_node_4;
     length 387.401;
     configuration line_configuration:18;
}

object overhead_line:172 {
     name R1-12-47-3_ol_2;
     phases ACN;
     from R1-12-47-3_node_4;
     to R1-12-47-3_node_5;
     length 68.936;
     configuration line_configuration:19;
}

object overhead_line:173 {
     name R1-12-47-3_ol_3;
     phases CN;
     from R1-12-47-3_node_4;
     to R1-12-47-3_node_6;
     length 157.766;
     configuration line_configuration:20;
}

object overhead_line:174 {
     name R1-12-47-3_ol_4;
     phases ABCN;
     from R1-12-47-3_node_4;
     to R1-12-47-3_node_7;
     length 139.494;
     configuration line_configuration:18;
}

object overhead_line:175 {
     name R1-12-47-3_ol_5;
     phases ABCN;
     from R1-12-47-3_node_7;
     to R1-12-47-3_node_8;
     length 1260.546;
     configuration line_configuration:18;
}

object overhead_line:176 {
     name R1-12-47-3_ol_6;
     phases ABCN;
     from R1-12-47-3_node_8;
     to R1-12-47-3_node_9;
     length 633.806;
     configuration line_configuration:18;
}

object overhead_line:177 {
     name R1-12-47-3_ol_7;
     phases ABCN;
     from R1-12-47-3_node_9;
     to R1-12-47-3_node_10;
     length 237.576;
     configuration line_configuration:21;
}

object overhead_line:178 {
     name R1-12-47-3_ol_8;
     phases ACN;
     from R1-12-47-3_node_8;
     to R1-12-47-3_node_11;
     length 749.489;
     configuration line_configuration:22;
}

object overhead_line:179 {
     name R1-12-47-3_ol_9;
     phases CN;
     from R1-12-47-3_node_11;
     to R1-12-47-3_node_12;
     length 122.880;
     configuration line_configuration:23;
}

object overhead_line:180 {
     name R1-12-47-3_ol_10;
     phases ACN;
     from R1-12-47-3_node_11;
     to R1-12-47-3_node_13;
     length 245.725;
     configuration line_configuration:19;
}

object overhead_line:181 {
     name R1-12-47-3_ol_11;
     phases CN;
     from R1-12-47-3_node_13;
     to R1-12-47-3_node_14;
     length 275.331;
     configuration line_configuration:23;
}

object overhead_line:182 {
     name R1-12-47-3_ol_12;
     phases ABCN;
     from R1-12-47-3_node_8;
     to R1-12-47-3_node_15;
     length 275.240;
     configuration line_configuration:18;
}

object overhead_line:183 {
     name R1-12-47-3_ol_13;
     phases ABCN;
     from R1-12-47-3_node_15;
     to R1-12-47-3_node_16;
     length 63.897;
     configuration line_configuration:18;
}

object overhead_line:184 {
     name R1-12-47-3_ol_14;
     phases ABCN;
     from R1-12-47-3_node_17;
     to R1-12-47-3_node_18;
     length 1499.769;
     configuration line_configuration:24;
}

object overhead_line:185 {
     name R1-12-47-3_ol_15;
     phases ABCN;
     from R1-12-47-3_node_18;
     to R1-12-47-3_node_19;
     length 485.017;
     configuration line_configuration:24;
}

object overhead_line:186 {
     name R1-12-47-3_ol_16;
     phases ABCN;
     from R1-12-47-3_node_19;
     to R1-12-47-3_node_21;
     length 275.614;
     configuration line_configuration:26;
}

object overhead_line:187 {
     name R1-12-47-3_ol_17;
     phases ABCN;
     from R1-12-47-3_node_21;
     to R1-12-47-3_node_22;
     length 165.147;
     configuration line_configuration:27;
}

object overhead_line:190 {
     name R1-12-47-3_ol_18;
     phases BCN;
     from R1-12-47-3_node_25;
     to R1-12-47-3_node_26;
     length 497.233;
     configuration line_configuration:30;
}

object overhead_line:191 {
     name R1-12-47-3_ol_19;
     phases ABCN;
     from R1-12-47-3_node_18;
     to R1-12-47-3_node_27;
     length 734.441;
     configuration line_configuration:27;
}

object overhead_line:192 {
     name R1-12-47-3_ol_20;
     phases AN;
     from R1-12-47-3_node_28;
     to R1-12-47-3_node_29;
     length 111.674;
     configuration line_configuration:32;
}

object overhead_line:193 {
     name R1-12-47-3_ol_21;
     phases AN;
     from R1-12-47-3_node_28;
     to R1-12-47-3_node_30;
     length 174.016;
     configuration line_configuration:32;
}

object overhead_line:194 {
     name R1-12-47-3_ol_22;
     phases ABCN;
     from R1-12-47-3_node_27;
     to R1-12-47-3_node_31;
     length 229.262;
     configuration line_configuration:27;
}

object overhead_line:195 {
     name R1-12-47-3_ol_23;
     phases ABCN;
     from R1-12-47-3_node_31;
     to R1-12-47-3_node_32;
     length 234.203;
     configuration line_configuration:18;
}

object overhead_line:196 {
     name R1-12-47-3_ol_24;
     phases ABCN;
     from R1-12-47-3_node_32;
     to R1-12-47-3_node_34;
     length 693.760;
     configuration line_configuration:18;
}

object overhead_line:197 {
     name R1-12-47-3_ol_25;
     phases ABCN;
     from R1-12-47-3_node_35;
     to R1-12-47-3_node_36;
     length 277.512;
     configuration line_configuration:27;
}

object overhead_line:200 {
     name R1-12-47-3_ol_26;
     phases ABCN;
     from R1-12-47-3_node_35;
     to R1-12-47-3_node_41;
     length 428.598;
     configuration line_configuration:21;
}

object overhead_line:201 {
     name R1-12-47-3_ol_27;
     phases ABCN;
     from R1-12-47-3_node_41;
     to R1-12-47-3_node_42;
     length 208.252;
     configuration line_configuration:24;
}

object overhead_line:202 {
     name R1-12-47-3_ol_28;
     phases ABCN;
     from R1-12-47-3_node_41;
     to R1-12-47-3_node_43;
     length 288.056;
     configuration line_configuration:24;
}

object overhead_line:203 {
     name R1-12-47-3_ol_29;
     phases AN;
     from R1-12-47-3_node_43;
     to R1-12-47-3_node_44;
     length 127.857;
     configuration line_configuration:31;
}

object overhead_line:204 {
     name R1-12-47-3_ol_30;
     phases ABCN;
     from R1-12-47-3_node_43;
     to R1-12-47-3_node_45;
     length 103.017;
     configuration line_configuration:27;
}

object overhead_line_conductor:3 {
     //name 4/0 ACSR;
     rating.summer.continuous 334.0;
     geometric_mean_radius 0.00814 ft;
     resistance 0.56300;
}

object overhead_line_conductor:4 {
     //name 4 AAAC;
     rating.summer.continuous 120.0;
     geometric_mean_radius 0.00700 ft;
     resistance 2.40970;
}

object overhead_line_conductor:5 {
     //name 4 CU;
     rating.summer.continuous 149.0;
     geometric_mean_radius 0.00663 ft;
     resistance 1.50000;
}

object overhead_line_conductor:6 {
     //name 2 ACSR;
     rating.summer.continuous 180.0;
     geometric_mean_radius 0.00418 ft;
     resistance 1.62570;
}

object overhead_line_conductor:7 {
     //name 1/0 AAC;
     rating.summer.continuous 230.0;
     geometric_mean_radius 0.01203 ft;
     resistance 0.95300;
}

object switch:215 {
     name R1-12-47-3_switch_1;
     phases ABCN;
     from R1-12-47-3_node_52;
     to R1-12-47-3_node_2;
     status CLOSED;
}

object switch:216 {
     name R1-12-47-3_switch_2;
     phases ABCN;
     from R1-12-47-3_node_9;
     to R1-12-47-3_node_51;
     status CLOSED;
}

object switch:217 {
     name R1-12-47-3_switch_3;
     phases ABCN;
     from R1-12-47-3_node_15;
     to R1-12-47-3_node_49;
     status CLOSED;
}

object switch:218 {
     name R1-12-47-3_switch_4;
     phases ABCN;
     from R1-12-47-3_node_15;
     to R1-12-47-3_node_17;
     status CLOSED;
}

object switch:219 {
     name R1-12-47-3_switch_5;
     phases ABCN;
     from R1-12-47-3_node_34;
     to R1-12-47-3_node_1;
     status CLOSED;
}

object switch:220 {
     name R1-12-47-3_switch_6;
     phases ABCN;
     from R1-12-47-3_node_34;
     to R1-12-47-3_node_50;
     status CLOSED;
}

object transformer:133 {
     name R1-12-47-3_xfmr_1;
     phases BS;
     from R1-12-47-3_node_40;
     to R1-12-47-3_tn_1;
     configuration transformer_configuration:132;
}

object transformer:149 {
     name R1-12-47-3_xfmr_2;
     phases CN;
     from R1-12-47-3_node_6;
     to R1-12-47-3_meter_1;
     configuration transformer_configuration:134;
}

object transformer:150 {
     name R1-12-47-3_xfmr_3;
     phases ABCN;
     from R1-12-47-3_node_10;
     to R1-12-47-3_meter_2;
     configuration transformer_configuration:135;
}

object transformer:151 {
     name R1-12-47-3_xfmr_4;
     phases ACN;
     from R1-12-47-3_node_11;
     to R1-12-47-3_meter_3;
     configuration transformer_configuration:136;
}

object transformer:152 {
     name R1-12-47-3_xfmr_5;
     phases CN;
     from R1-12-47-3_node_12;
     to R1-12-47-3_meter_4;
     configuration transformer_configuration:137;
}

object transformer:153 {
     name R1-12-47-3_xfmr_6;
     phases CN;
     from R1-12-47-3_node_14;
     to R1-12-47-3_meter_5;
     configuration transformer_configuration:137;
}

object transformer:154 {
     name R1-12-47-3_xfmr_7;
     phases ABCN;
     from R1-12-47-3_node_18;
     to R1-12-47-3_meter_6;
     configuration transformer_configuration:138;
}

object transformer:155 {
     name R1-12-47-3_xfmr_8;
     phases AN;
     from R1-12-47-3_node_20;
     to R1-12-47-3_meter_7;
     configuration transformer_configuration:139;
}

object transformer:156 {
     name R1-12-47-3_xfmr_9;
     phases ABCN;
     from R1-12-47-3_node_22;
     to R1-12-47-3_meter_8;
     configuration transformer_configuration:140;
}

object transformer:157 {
     name R1-12-47-3_xfmr_10;
     phases BN;
     from R1-12-47-3_node_24;
     to R1-12-47-3_meter_9;
     configuration transformer_configuration:141;
}

object transformer:158 {
     name R1-12-47-3_xfmr_11;
     phases ABCN;
     from R1-12-47-3_node_27;
     to R1-12-47-3_meter_10;
     configuration transformer_configuration:142;
}

object transformer:159 {
     name R1-12-47-3_xfmr_12;
     phases AN;
     from R1-12-47-3_node_28;
     to R1-12-47-3_meter_11;
     configuration transformer_configuration:143;
}

object transformer:160 {
     name R1-12-47-3_xfmr_13;
     phases AN;
     from R1-12-47-3_node_29;
     to R1-12-47-3_meter_12;
     configuration transformer_configuration:144;
}

object transformer:161 {
     name R1-12-47-3_xfmr_14;
     phases AN;
     from R1-12-47-3_node_30;
     to R1-12-47-3_meter_13;
     configuration transformer_configuration:144;
}

object transformer:162 {
     name R1-12-47-3_xfmr_15;
     phases AN;
     from R1-12-47-3_node_33;
     to R1-12-47-3_meter_14;
     configuration transformer_configuration:144;
}

object transformer:163 {
     name R1-12-47-3_xfmr_16;
     phases BN;
     from R1-12-47-3_node_37;
     to R1-12-47-3_meter_15;
     configuration transformer_configuration:145;
}

object transformer:164 {
     name R1-12-47-3_xfmr_17;
     phases BN;
     from R1-12-47-3_node_38;
     to R1-12-47-3_meter_16;
     configuration transformer_configuration:146;
}

object transformer:165 {
     name R1-12-47-3_xfmr_18;
     phases BN;
     from R1-12-47-3_node_39;
     to R1-12-47-3_meter_17;
     configuration transformer_configuration:145;
}

object transformer:166 {
     name R1-12-47-3_xfmr_19;
     phases ABCN;
     from R1-12-47-3_node_42;
     to R1-12-47-3_meter_18;
     configuration transformer_configuration:147;
}

object transformer:167 {
     name R1-12-47-3_xfmr_20;
     phases AN;
     from R1-12-47-3_node_44;
     to R1-12-47-3_meter_19;
     configuration transformer_configuration:144;
}

object transformer:168 {
     name R1-12-47-3_xfmr_21;
     phases ABCN;
     from R1-12-47-3_node_47;
     to R1-12-47-3_meter_20;
     configuration transformer_configuration:148;
}

object transformer:169 {
     name R1-12-47-3_xfmr_22;
     phases ABCN;
     from R1-12-47-3_node_48;
     to R1-12-47-3_meter_21;
     configuration transformer_configuration:140;
}

object transformer_configuration:132 {
     connect_type SINGLE_PHASE_CENTER_TAPPED;
     install_type POLETOP;
     primary_voltage 7200 V;
     secondary_voltage 120 V;
     power_rating 450.0;
     powerB_rating 450.0;
     resistance 0.00033;
     reactance 0.00022;
      shunt_impedance 1226.160+1358.242j;
}

object transformer_configuration:134 {
     connect_type WYE_WYE;
     install_type PADMOUNT;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 50.0;
     powerC_rating 50.0;
     resistance 0.00200;
     reactance 0.01000;
      shunt_impedance 391.760+390.395j;
}

object transformer_configuration:135 {
     connect_type WYE_WYE;
     install_type PADMOUNT;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 45.0;
     powerA_rating 15.0;
     powerB_rating 15.0;
     powerC_rating 15.0;
     resistance 0.00222;
     reactance 0.01111;
      shunt_impedance 381.330+362.111j;
}

object transformer_configuration:136 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 25.0;
     powerA_rating 0.0;
     powerC_rating 25.0;
     resistance 0.00400;
     reactance 0.02000;
      shunt_impedance 339.610+298.041j;
}

object transformer_configuration:137 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 50.0;
     powerC_rating 50.0;
     resistance 0.00200;
     reactance 0.01000;
      shunt_impedance 391.760+396.403j;
}

object transformer_configuration:138 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 75.0;
     powerA_rating 0.0;
     powerB_rating 0.0;
     powerC_rating 75.0;
     resistance 0.00133;
     reactance 0.00667;
      shunt_impedance 443.910+486.502j;
}

object transformer_configuration:139 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 37.5;
     powerA_rating 37.5;
     resistance 0.00267;
     reactance 0.01333;
      shunt_impedance 365.685+353.218j;
}

object transformer_configuration:140 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 75.0;
     powerA_rating 25.0;
     powerB_rating 25.0;
     powerC_rating 25.0;
     resistance 0.00133;
     reactance 0.00667;
      shunt_impedance 443.910+436.216j;
}

object transformer_configuration:141 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 75.0;
     powerB_rating 75.0;
     resistance 0.00133;
     reactance 0.00667;
      shunt_impedance 443.910+471.268j;
}

object transformer_configuration:142 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 75.0;
     powerA_rating 0.0;
     powerB_rating 25.0;
     powerC_rating 50.0;
     resistance 0.00133;
     reactance 0.00667;
      shunt_impedance 443.910+482.260j;
}

object transformer_configuration:143 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 100.0;
     powerA_rating 100.0;
     resistance 0.00100;
     reactance 0.00500;
      shunt_impedance 496.060+425.773j;
}

object transformer_configuration:144 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 25.0;
     powerA_rating 25.0;
     resistance 0.00400;
     reactance 0.02000;
      shunt_impedance 339.610+346.401j;
}

object transformer_configuration:145 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 50.0;
     powerB_rating 50.0;
     resistance 0.00200;
     reactance 0.01000;
      shunt_impedance 391.760+399.432j;
}

object transformer_configuration:146 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 175.0;
     powerB_rating 175.0;
     resistance 0.00057;
     reactance 0.00286;
      shunt_impedance 652.510+642.648j;
}

object transformer_configuration:147 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 150.0;
     powerA_rating 50.0;
     powerB_rating 50.0;
     powerC_rating 50.0;
     resistance 0.00067;
     reactance 0.00333;
      shunt_impedance 600.360+653.959j;
}

object transformer_configuration:148 {
     connect_type WYE_WYE;
     install_type POLETOP;
     primary_voltage 12470.000 V;
     secondary_voltage 480 V;
     power_rating 112.5;
     powerA_rating 37.5;
     powerB_rating 37.5;
     powerC_rating 37.5;
     resistance 0.00089;
     reactance 0.00444;
      shunt_impedance 522.135+503.119j;
}

object triplex_line_conductor: {
     name triplex_4/0 AA;
     resistance 0.48;
     geometric_mean_radius 0.0158;
}

object triplex_line_configuration:1 {
     conductor_1 triplex_4/0 AA;
     conductor_2 triplex_4/0 AA;
     conductor_N triplex_4/0 AA;
     insulation_thickness 0.08;
     diameter 0.522;
}

object triplex_line:131 {
     name R1-12-47-3_tl_1;
     phases BS;
     from R1-12-47-3_tn_1;
     to R1-12-47-3_tm_1;
     length 30;
     configuration triplex_line_configuration:1;
}


object triplex_meter:109 {
     name R1-12-47-3_tm_1;
     phases BS;
     voltage_1 -60-103.92j;
     voltage_2 -60-103.92j;
     voltage_N 0;
     nominal_voltage 120;
}

object triplex_node:107 {
     name R1-12-47-3_tn_1;
     phases BS;
     voltage_1 -60-103.92j;
     voltage_2 -60-103.92j;
     voltage_N 0;
     nominal_voltage 120;
}

object triplex_node:108 {
     name R1-12-47-3_tn_2;
     phases BS;
     parent R1-12-47-3_tm_1;
     power_12 175181.0364+5512.8881j;
     voltage_1 -60-103.92j;
     voltage_2 -60-103.92j;
     voltage_N 0;
     nominal_voltage 120;
}

object underground_line:170 {
     name R1-12-47-3_ul_1;
     phases ABCN;
     from R1-12-47-3_node_2;
     to R1-12-47-3_node_3;
     length 84.593;
     configuration line_configuration:17;
}

object underground_line:188 {
     name R1-12-47-3_ul_2;
     phases BN;
     from R1-12-47-3_node_23;
     to R1-12-47-3_node_24;
     length 160.451;
     configuration line_configuration:29;
}

object underground_line:189 {
     name R1-12-47-3_ul_3;
     phases BCN;
     from R1-12-47-3_node_23;
     to R1-12-47-3_node_25;
     length 190.827;
     configuration line_configuration:28;
}

object underground_line:198 {
     name R1-12-47-3_ul_4;
     phases BN;
     from R1-12-47-3_node_37;
     to R1-12-47-3_node_38;
     length 165.500;
     configuration line_configuration:29;
}

object underground_line:199 {
     name R1-12-47-3_ul_5;
     phases BN;
     from R1-12-47-3_node_37;
     to R1-12-47-3_node_39;
     length 74.300;
     configuration line_configuration:29;
}

object underground_line:205 {
     name R1-12-47-3_ul_6;
     phases ABCN;
     from R1-12-47-3_node_45;
     to R1-12-47-3_node_46;
     length 202.409;
     configuration line_configuration:33;
}

object underground_line:206 {
     name R1-12-47-3_ul_7;
     phases ABCN;
     from R1-12-47-3_node_46;
     to R1-12-47-3_node_47;
     length 131.003;
     configuration line_configuration:33;
}

object underground_line:207 {
     name R1-12-47-3_ul_8;
     phases ABCN;
     from R1-12-47-3_node_46;
     to R1-12-47-3_node_48;
     length 258.143;
     configuration line_configuration:33;
}

object underground_line_conductor:2 {
     //name 1000 AAC (Conc);
     rating.summer.continuous 488.0;
     outer_diameter 2.15;
     conductor_gmr 0.0371 ft;
     conductor_diameter 1.152;
     conductor_resistance 0.091872;
     neutral_gmr 0.0842565914341201 ft;
     neutral_resistance 5.3856;
     neutral_diameter 0.1019;
     neutral_strands 20.0;
     shield_gmr 0.00;
     shield_resistance 0.00;
}

object underground_line_conductor:8 {
     //name 1/0 AAC (Conc);
     rating.summer.continuous 142.0;
     outer_diameter 1.27;
     conductor_gmr 0.01142 ft;
     conductor_diameter 0.362;
     conductor_resistance 0.88704;
     neutral_gmr 0.0489686771417213 ft;
     neutral_resistance 13.86528;
     neutral_diameter 0.0641;
     neutral_strands 16.0;
     shield_gmr 0.00;
     shield_resistance 0.00;
}


// Recorders

// 1. ANSI C84.1 Voltage Standard
// Use the billing_meter json file (it outputs multiple files)

object metrics_collector_writer {
     interval 60;
		 filename metrics_collector_output1.json;
}


// 2. Overcurrent and Overloading (only measure overhead lines)

// Overcurrent

object group_recorder {
   name current_A;
	 group "class=overhead_line";
	 property current_in_A;
	 file R1_12_47_3_currentA.csv;
	 interval 60;
	 // limit 60;
}
object group_recorder {
   name current_B;
	 group "class=overhead_line";
	 property current_in_B;
	 file R1_12_47_3_currentB.csv;
	 interval 60;
	 // limit 60;
}
object group_recorder {
   name current_C;
	 group "class=overhead_line";
	 property current_in_C;
	 file R1_12_47_3_currentC.csv;
	 interval 60;
	 // limit 60;
}

// Overloading

object group_recorder {
   name transformer_power_in;
	 group "class=transformer";
	 property power_in;
	 file R1_12_47_3_transformer_power_in.csv;
	 interval 60;
	 // limit 60;
}


// 3. Voltage Unbalance

object group_recorder {
     name loads_voltages_A_recorder;
		 group "class=meter";
		 property voltage_A;
		 file loads_volts_A1.csv;
		 interval 60;
		 limit 10000000;
}

object group_recorder {
     name loads_voltages_B_recorder;
		 group "class=meter";
		 property voltage_B;
		 file loads_volts_B1.csv;
		 interval 60;
		 limit 10000000;
}

object group_recorder {
     name loads_voltages_C_recorder;
		 group "class=meter";
		 property voltage_C;
		 file loads_volts_C1.csv;
		 interval 60;
		 limit 10000000;
}


// 4. Losses

object group_recorder {
    name power_loss_overhead_line;
		group "class=overhead_line";
		property power_losses;
		file losses_overhead_line.csv;
		interval 60;
		limit 10000000;
}

object group_recorder {
    name power_loss_underground_line;
		group "class=underground_line";
		property power_losses;
		file losses_underground_line.csv;
		interval 60;
		limit 10000000;
}

object group_recorder {
    name power_loss_transformer;
		group "class=transformer";
		property power_losses;
		file losses_transformer.csv;
		interval 60;
		limit 10000000;
}


// 5. Power Flow in Substation Transformers
// Use recorder from overloading, writes to R1_12_47_3_transformer_power_in.csv



// *********************************************************************
// Recorders used for testing

//object recorder {
//    parent R1-12-47-3_load_1;
//    property measured_voltage_C;
//    limit 1440;
//    interval 60;
//    file "R1-12.47-3_reg1_output.csv";
//};

//object recorder {
//    parent R1-12-47-3_reg_1;
//    property tap_A,tap_B,tap_C,power_in_A.real,power_in_A.imag,power_in_B.real,power_in_B.imag,power_in_C.real,power_in_C.imag,power_in.real,power_in.imag;
//    limit 1440;
//    interval 60;
//    file "R1-12.47-3_reg1_output.csv";
//};

//object multi_recorder {
//    property
//		R1-12-47-3_meter_1:measured_real_power,R1-12-47-3_meter_2:measured_real_power,R1-12-47-3_meter_3:measured_real_power,R1-12-47-3_meter_4:measured_real_power,R1-12-47-3_meter_5:measured_real_power,R1-12-47-3_meter_6:measured_real_power,R1-12-47-3_meter_7:measured_real_power,R1-12-47-3_meter_8:measured_real_power,R1-12-47-3_meter_9:measured_real_power,R1-12-47-3_meter_10:measured_real_power,R1-12-47-3_meter_11:measured_real_power,R1-12-47-3_meter_12:measured_real_power,R1-12-47-3_meter_13:measured_real_power,R1-12-47-3_meter_4:measured_real_power,R1-12-47-3_meter_15:measured_real_power;
//    file "R1_12_47_3_powerflowSolar2.csv";
//	  interval 60;
//	limit 60;
//}
